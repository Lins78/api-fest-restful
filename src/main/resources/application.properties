# ===============================================================================
# ROTEIRO 3 - CONFIGURAÇÕES DA API FEST RESTful - DeliveryTech System
# ===============================================================================
# 
# Este arquivo contém todas as configurações necessárias para o Roteiro 3:
# - Configurações básicas da aplicação Spring Boot
# - Banco de dados H2 em memória para desenvolvimento
# - Console H2 para visualização e debug
# - JPA/Hibernate com logs SQL detalhados
# - Otimizações para Java 21 LTS
# - Configurações de encoding e performance
# 
# @author DeliveryTech Development Team
# @version 1.0 - Roteiro 3
# @since Java 21 LTS + Spring Boot 3.4.0
# ===============================================================================

# ========== CONFIGURAÇÕES BÁSICAS DA APLICAÇÃO ==========
# Nome da aplicação conforme especificado no roteiro
spring.application.name=api-fest-restfull

# Porta do servidor web embarcado (Tomcat)
server.port=8080

# ========== CONFIGURAÇÕES DO BANCO H2 EM MEMÓRIA (ROTEIRO 3) ==========
# URL do banco H2 em memória com identificador 'delivery'
# Banco será recriado a cada execução da aplicação
spring.datasource.url=jdbc:h2:mem:delivery

# Driver JDBC específico do H2 Database Engine
spring.datasource.driver-class-name=org.h2.Driver

# Credenciais padrão do H2 (usuário 'sa' sem senha)
spring.datasource.username=sa
spring.datasource.password=

# ========== CONFIGURAÇÕES DO CONSOLE H2 ==========
# Habilita o console web do H2 para visualização dos dados em tempo real
# Essencial para debugging e validação das consultas do roteiro
spring.h2.console.enabled=true

# Define o endpoint do console H2 
# Acesso: http://localhost:8080/h2-console
spring.h2.console.path=/h2-console

# ========== CONFIGURAÇÕES JPA/HIBERNATE ==========
# Dialeto otimizado para H2 Database
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Estratégia DDL: create-drop recria tabelas a cada execução
# Ideal para desenvolvimento e testes dos cenários do roteiro
spring.jpa.hibernate.ddl-auto=create-drop

# Exibe todas as queries SQL geradas pelo Hibernate
# Fundamental para aprendizado e debugging das consultas
spring.jpa.show-sql=true

# Formata as queries SQL para melhor legibilidade no console
spring.jpa.properties.hibernate.format_sql=true

# ========== CONFIGURAÇÕES DE LOGS E DEBUG AVANÇADO ==========
# Log detalhado das queries SQL executadas
logging.level.org.hibernate.SQL=DEBUG

# Log dos parâmetros (bind values) das queries preparadas
# Mostra os valores reais passados para as queries
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Log das operações JDBC do Spring Data
logging.level.org.springframework.jdbc.core=DEBUG

# ========== CONFIGURAÇÕES DE PERFORMANCE JAVA 21 ==========
# Configuração otimizada de threads para Java 21 LTS
# Melhora a performance da aplicação com múltiplas requisições
server.tomcat.max-threads=200
server.tomcat.min-spare-threads=10

# ========== CONFIGURAÇÕES DE ENCODING ==========
# Força encoding UTF-8 em toda a aplicação
# Garante suporte correto a caracteres especiais e acentos
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.force=true

# ========== CONFIGURAÇÕES DE OTIMIZAÇÃO JPA ==========
# Desabilita Open Session In View para melhor performance
# Evita lazy loading fora do contexto transacional
spring.jpa.open-in-view=false

# ===============================================================================
# INSTRUÇÕES DE USO DO ROTEIRO 3:
# 
# 1. ACESSANDO O CONSOLE H2:
#    - URL: http://localhost:8080/h2-console
#    - JDBC URL: jdbc:h2:mem:delivery  
#    - Username: sa
#    - Password: (deixar vazio)
# 
# 2. VISUALIZANDO DADOS DE TESTE:
#    - Os dados são automaticamente carregados pelo DataLoader
#    - 3 clientes, 2 restaurantes, 5 produtos e 2 pedidos
# 
# 3. VALIDANDO CONSULTAS:
#    - Todas as queries aparecem formatadas no console
#    - Os 4 cenários obrigatórios são executados automaticamente
#    - Logs detalhados mostram parâmetros e resultados
# 
# 4. DEBUGGING:
#    - Consulte os logs SQL para entender as queries geradas
#    - Use o console H2 para validar dados e estruturas
#    - DataLoader executa testes automáticos na inicialização
# ===============================================================================