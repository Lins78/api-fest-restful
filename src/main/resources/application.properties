# ========== CONFIGURAÇÕES DO BANCO DE DADOS ==========
# Configurações do H2 Database (Desenvolvimento)
spring.datasource.url=jdbc:h2:mem:testdb;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
spring.datasource.username=sa
spring.datasource.password=${DB_PASSWORD:}
spring.datasource.driver-class-name=org.h2.Driver

# H2 Console (Desenvolvimento) - http://localhost:8080/h2-console
spring.h2.console.enabled=true
spring.h2.console.path=/h2-console
spring.h2.console.settings.web-allow-others=true

# JPA/Hibernate
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.jpa.hibernate.ddl-auto=create-drop
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.defer-datasource-initialization=true

# SQL Initialization
spring.sql.init.mode=always
spring.sql.init.data-locations=classpath:data.sql
spring.sql.init.schema-locations=classpath:schema.sql

# ========== CONFIGURAÇÕES DO SERVIDOR ==========
# Porta do servidor
server.port=8080

# Configurações de compressão
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# ========== CONFIGURAÇÕES DE LOGGING ==========
# Configurações de log
logging.level.com.exemplo.apifest=DEBUG
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.web=INFO
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE

# Padrão de log
logging.pattern.console=%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n

# ========== CONFIGURAÇÕES DO OPENAPI/SWAGGER ==========
# Configuração da documentação OpenAPI
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operationsSorter=method
springdoc.swagger-ui.tagsSorter=alpha
springdoc.swagger-ui.tryItOutEnabled=true
springdoc.swagger-ui.filter=true

# ========== CONFIGURAÇÕES DO SPRING BOOT ACTUATOR ==========
# Endpoints do actuator para monitoramento
management.endpoints.web.exposure.include=health,info,metrics,env,beans,configprops
management.endpoints.web.base-path=/actuator
management.endpoint.health.show-details=always
management.health.db.enabled=true
management.health.diskspace.enabled=true

# Informações da aplicação
management.info.env.enabled=true
info.app.name=API FEST RESTful
info.app.description=Sistema de delivery de restaurantes
info.app.version=1.0.0
info.app.java.version=21

# ========== CONFIGURAÇÕES DE VALIDAÇÃO ==========
# Bean Validation - Spring Boot 3 tem validação habilitada por padrão com spring-boot-starter-validation

# ========== CONFIGURAÇÕES DE PERFORMANCE ==========
# Configurações de pool de threads do Tomcat
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10

# Configurações de timeout
server.tomcat.connection-timeout=20000
server.tomcat.keep-alive-timeout=15000
server.tomcat.max-connections=8192

# ========== CONFIGURAÇÕES DE ENCODING ==========
# Encoding
server.servlet.encoding.charset=UTF-8
server.servlet.encoding.enabled=true
server.servlet.encoding.force=true

# ========== CONFIGURAÇÕES DE SESSÃO ==========
# Configurações de sessão
server.servlet.session.timeout=30m
server.servlet.session.cookie.http-only=true
server.servlet.session.cookie.secure=false

# ========== CONFIGURAÇÕES DE CACHE ==========
# Cache
spring.cache.type=simple

# ========== CONFIGURAÇÕES DE SEGURANÇA ==========
# Security headers
server.servlet.session.cookie.same-site=lax

# ========== CONFIGURAÇÕES JWT/AUTH ==========
# Configurações de JWT para autenticação  
jwt.secret=${JWT_SECRET:delivery-tech-secret-key-2025-api-fest-restful-security}
jwt.expiration=${JWT_EXPIRATION:86400000}

# ========== CONFIGURAÇÕES DE PROFILE ==========
# Profiles
spring.profiles.active=dev